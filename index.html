<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Primary Meta Tags -->
    <title>Solar Repair and Installation Specialist Georgia | EkoSolarPros</title>
    <meta name="title" content="Solar Repair and Installation Specialist Georgia | EkoSolarPros">
    <meta name="description" content="Georgia's trusted solar repair and installation specialists. Expert solar panel installation, emergency repairs, and maintenance services. Licensed, certified technicians with 25-year warranty.">
    <meta name="keywords" content="solar repair specialist Georgia, solar installation specialist, solar panel repair Georgia, emergency solar repair, solar troubleshooting, solar maintenance specialist, residential solar repair, commercial solar installation, certified solar technicians Georgia, solar system repair Atlanta, solar panel installation expert"
    
    <!-- Geo-targeting -->
    <meta name="geo.region" content="US-GA">
    <meta name="geo.placename" content="Georgia">
    <meta name="geo.position" content="33.040619;-83.643074">
    <meta name="ICBM" content="33.040619, -83.643074">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ekosolarpros.com/">
    <meta property="og:title" content="Solar Repair and Installation Specialist Georgia | EkoSolarPros">
    <meta property="og:description" content="Georgia's trusted solar repair and installation specialists. Expert solar panel installation, emergency repairs, and maintenance services. Licensed, certified technicians with 25-year warranty."
    <meta property="og:image" content="https://ekosolarpros.com/images/ekosolar-solar-installation-georgia.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ekosolarpros.com/">
    <meta property="twitter:title" content="Solar Repair and Installation Specialist Georgia | EkoSolarPros">
    <meta property="twitter:description" content="Georgia's trusted solar repair and installation specialists. Expert solar panel installation, emergency repairs, and maintenance services."
    <meta property="twitter:image" content="https://ekosolarpros.com/images/ekosolar-solar-installation-georgia.jpg">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    <meta name="author" content="EkoSolarPros">
    <link rel="canonical" href="https://ekosolarpros.com/">
    
    <!-- Performance and Resource Hints -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <!-- Google Fonts with optimized loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="dns-prefetch" href="//www.google-analytics.com">
    
    <!-- Critical CSS preload -->
    <link rel="preload" as="style" href="data:text/css,*{margin:0;padding:0;box-sizing:border-box}body{font-family:Outfit,sans-serif;line-height:1.6;color:var(--foreground);background:var(--background)}.container{max-width:var(--container-max-width);margin:0 auto;padding:0 20px}">
    
    <!-- Compression and caching hints for performance -->
    <meta http-equiv="Cache-Control" content="public, max-age=31536000">
    <meta name="format-detection" content="telephone=no">
    
    <style>
        /* ===== CSS RESET AND BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            /* New oklch color theme */
            --background: oklch(0.9911 0 0);
            --foreground: oklch(0.2046 0 0);
            --card: oklch(0.9911 0 0);
            --card-foreground: oklch(0.2046 0 0);
            --popover: oklch(0.9911 0 0);
            --popover-foreground: oklch(0.4386 0 0);
            --primary: oklch(0.8348 0.1302 160.9080);
            --primary-foreground: oklch(0.2626 0.0147 166.4589);
            --secondary: oklch(0.9940 0 0);
            --secondary-foreground: oklch(0.2046 0 0);
            --muted: oklch(0.9461 0 0);
            --muted-foreground: oklch(0.2435 0 0);
            --accent: oklch(0.9461 0 0);
            --accent-foreground: oklch(0.2435 0 0);
            --destructive: oklch(0.5523 0.1927 32.7272);
            --destructive-foreground: oklch(0.9934 0.0032 17.2118);
            --border: oklch(0.9037 0 0);
            --input: oklch(0.9731 0 0);
            --ring: oklch(0.8348 0.1302 160.9080);
            --chart-1: oklch(0.8348 0.1302 160.9080);
            --chart-2: oklch(0.6231 0.1880 259.8145);
            --chart-3: oklch(0.6056 0.2189 292.7172);
            --chart-4: oklch(0.7686 0.1647 70.0804);
            --chart-5: oklch(0.6959 0.1491 162.4796);
            --sidebar: oklch(0.9911 0 0);
            --sidebar-foreground: oklch(0.5452 0 0);
            --sidebar-primary: oklch(0.8348 0.1302 160.9080);
            --sidebar-primary-foreground: oklch(0.2626 0.0147 166.4589);
            --sidebar-accent: oklch(0.9461 0 0);
            --sidebar-accent-foreground: oklch(0.2435 0 0);
            --sidebar-border: oklch(0.9037 0 0);
            --sidebar-ring: oklch(0.8348 0.1302 160.9080);
            
            /* Keep solar brand colors for accents */
            --solar-amber: #F59E0B;
            --solar-orange: #EA580C;
            --solar-yellow: #EAB308;
            --solar-green: #10B981;
            --solar-blue: #0EA5E9;
            
            /* Typography */
            --font-primary: Outfit, sans-serif;
            --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
            --font-mono: monospace;
            --font-weight-light: 300;
            --font-weight-normal: 400;
            --font-weight-semibold: 600;
            --font-weight-bold: 700;
            
            /* Spacing and design */
            --section-padding: 80px 0;
            --container-max-width: 1200px;
            --border-radius: 12px;
            --radius: 0.5rem;
            
            /* Shadows */
            --shadow-2xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.09);
            --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.09);
            --shadow-sm: 0px 1px 3px 0px hsl(0 0% 0% / 0.17), 0px 1px 2px -1px hsl(0 0% 0% / 0.17);
            --shadow: 0px 1px 3px 0px hsl(0 0% 0% / 0.17), 0px 1px 2px -1px hsl(0 0% 0% / 0.17);
            --shadow-md: 0px 1px 3px 0px hsl(0 0% 0% / 0.17), 0px 2px 4px -1px hsl(0 0% 0% / 0.17);
            --shadow-lg: 0px 1px 3px 0px hsl(0 0% 0% / 0.17), 0px 4px 6px -1px hsl(0 0% 0% / 0.17);
            --shadow-xl: 0px 1px 3px 0px hsl(0 0% 0% / 0.17), 0px 8px 10px -1px hsl(0 0% 0% / 0.17);
            --shadow-2xl: 0px 1px 3px 0px hsl(0 0% 0% / 0.43);
            
            /* Typography tracking */
            --tracking-normal: 0.025em;
            --tracking-tighter: -0.025em;
            --tracking-tight: 0em;
            --tracking-wide: 0.05em;
            --tracking-wider: 0.075em;
            --tracking-widest: 0.125em;
            
            /* Animations */
            --transition-fast: 0.2s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
        }
        
        .dark {
            --background: oklch(0.1822 0 0);
            --foreground: oklch(0.9288 0.0126 255.5078);
            --card: oklch(0.2046 0 0);
            --card-foreground: oklch(0.9288 0.0126 255.5078);
            --popover: oklch(0.2603 0 0);
            --popover-foreground: oklch(0.7348 0 0);
            --primary: oklch(0.4365 0.1044 156.7556);
            --primary-foreground: oklch(0.9213 0.0135 167.1556);
            --secondary: oklch(0.2603 0 0);
            --secondary-foreground: oklch(0.9851 0 0);
            --muted: oklch(0.2393 0 0);
            --muted-foreground: oklch(0.7122 0 0);
            --accent: oklch(0.3132 0 0);
            --accent-foreground: oklch(0.9851 0 0);
            --destructive: oklch(0.3123 0.0852 29.7877);
            --destructive-foreground: oklch(0.9368 0.0045 34.3092);
            --border: oklch(0.2809 0 0);
            --input: oklch(0.2603 0 0);
            --ring: oklch(0.8003 0.1821 151.7110);
            --chart-1: oklch(0.8003 0.1821 151.7110);
            --chart-2: oklch(0.7137 0.1434 254.6240);
            --chart-3: oklch(0.7090 0.1592 293.5412);
            --chart-4: oklch(0.8369 0.1644 84.4286);
            --chart-5: oklch(0.7845 0.1325 181.9120);
            --sidebar: oklch(0.1822 0 0);
            --sidebar-foreground: oklch(0.6301 0 0);
            --sidebar-primary: oklch(0.4365 0.1044 156.7556);
            --sidebar-primary-foreground: oklch(0.9213 0.0135 167.1556);
            --sidebar-accent: oklch(0.3132 0 0);
            --sidebar-accent-foreground: oklch(0.9851 0 0);
            --sidebar-border: oklch(0.2809 0 0);
            --sidebar-ring: oklch(0.8003 0.1821 151.7110);
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: var(--font-primary);
            line-height: 1.6;
            color: var(--foreground);
            background: var(--background);
            overflow-x: hidden;
            letter-spacing: var(--tracking-normal);
        }
        
        .container {
            max-width: var(--container-max-width);
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* ===== HEADER & NAVIGATION ===== */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            transition: var(--transition-normal);
            box-shadow: var(--shadow-sm);
        }
        
        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 0;
            position: relative;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: var(--font-weight-bold);
            color: var(--solar-orange);
            text-decoration: none;
        }
        
        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--solar-yellow), var(--solar-orange));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 35px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .nav-link {
            text-decoration: none;
            color: var(--foreground);
            font-weight: var(--font-weight-semibold);
            transition: var(--transition-fast);
            position: relative;
            white-space: nowrap;
        }
        
        .nav-link:hover,
        .nav-link.active {
            color: var(--solar-orange);
        }
        
        /* ===== DROPDOWN NAVIGATION STYLES ===== */
        .nav-dropdown {
            position: relative;
        }
        
        .dropdown-toggle {
            cursor: pointer;
        }
        
        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            list-style: none;
            padding: 0.5rem 0;
            margin: 0;
            min-width: 220px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .nav-dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .dropdown-link {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--foreground);
            text-decoration: none;
            font-weight: var(--font-weight-normal);
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }
        
        .dropdown-link:hover {
            background: var(--muted);
            color: var(--solar-orange);
            border-left-color: var(--solar-orange);
            transform: translateX(3px);
        }

        /* ===== BREADCRUMB NAVIGATION ===== */
        .breadcrumb-nav {
            background: var(--muted);
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            list-style: none;
            margin: 0;
            padding: 0;
            font-size: 14px;
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
        }

        .breadcrumb-item:not(:last-child)::after {
            content: '›';
            margin: 0 12px;
            color: var(--muted-foreground);
            font-weight: bold;
        }

        .breadcrumb-item a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .breadcrumb-item a:hover {
            color: var(--solar-orange);
            text-decoration: underline;
        }

        .breadcrumb-item:last-child span {
            color: var(--muted-foreground);
            font-weight: 500;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--solar-orange);
            border-radius: 2px;
        }
        
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--foreground);
            cursor: pointer;
        }
        
        .nav-right {
            display: flex;
            align-items: center;
            min-width: 100px; /* Ensure space for mobile toggle */
            justify-content: flex-end;
        }
        
        /* ===== HERO SLIDESHOW SECTION ===== */
        .hero-slideshow {
            position: relative;
            height: 100vh;
            min-height: 600px;
            overflow: hidden;
        }
        
        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0;
            transition: opacity 1s ease-in-out, transform 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
        }
        
        .slide.active {
            opacity: 1;
            z-index: 2;
        }
        
        .slide-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                135deg, 
                rgba(234, 88, 12, 0.7) 0%, 
                rgba(251, 146, 60, 0.5) 50%, 
                rgba(234, 88, 12, 0.8) 100%
            );
            z-index: 1;
        }
        
        .slide-content {
            position: relative;
            z-index: 3;
            max-width: 800px;
            padding: 0 20px;
            animation: slideInUp 1s ease;
        }
        
        .hero-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: var(--font-weight-bold);
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .hero-subtitle {
            font-size: clamp(1.1rem, 2vw, 1.3rem);
            opacity: 0.95;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 30px;
            margin: 50px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .stat-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .stat-number {
            font-size: 2.2rem;
            font-weight: var(--font-weight-bold);
            display: block;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        /* Slideshow Navigation */
        .slideshow-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 30px;
            z-index: 4;
            pointer-events: none;
        }
        
        .nav-arrow {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            pointer-events: all;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .nav-arrow:hover {
            background: rgba(234, 88, 12, 0.8);
            border-color: rgba(234, 88, 12, 1);
            transform: scale(1.1);
        }
        
        /* Slide Indicators */
        .slide-dots {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 4;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            border: 2px solid rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .dot.active,
        .dot:hover {
            background: var(--solar-orange);
            border-color: var(--solar-orange);
            transform: scale(1.2);
        }
        
        /* Call to Action Buttons */
        .hero-cta {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 4;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .cta-button-primary,
        .cta-button-secondary {
            display: inline-block;
            padding: 15px 30px;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: var(--font-weight-semibold);
            font-size: 1.1rem;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 200px;
        }
        
        .cta-button-primary {
            background: var(--solar-orange);
            color: white;
            border: 2px solid var(--solar-orange);
            box-shadow: 0 4px 15px rgba(234, 88, 12, 0.4);
        }
        
        .cta-button-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(234, 88, 12, 0.6);
            background: #DC2626;
            border-color: #DC2626;
        }
        
        .cta-button-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .cta-button-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }
        
        /* Dynamic Background Images - Professional Solar Photography */
        .slide[data-bg*="installation"] {
            background-image: linear-gradient(
                rgba(234, 88, 12, 0.6), 
                rgba(251, 146, 60, 0.4)
            ), url('https://images.unsplash.com/photo-1559302504-64aae6ca6b6d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .slide[data-bg*="repair"] {
            background-image: linear-gradient(
                rgba(220, 38, 38, 0.7), 
                rgba(239, 68, 68, 0.5)
            ), url('https://images.unsplash.com/photo-1613665813446-82a78c468a1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .slide[data-bg*="maintenance"] {
            background-image: linear-gradient(
                rgba(16, 185, 129, 0.6), 
                rgba(52, 211, 153, 0.4)
            ), url('https://images.unsplash.com/photo-1624397640148-949b1732bb0a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .slide[data-bg*="commercial"] {
            background-image: linear-gradient(
                rgba(59, 130, 246, 0.6), 
                rgba(147, 197, 253, 0.4)
            ), url('https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        .slide[data-bg*="diagnostics"] {
            background-image: linear-gradient(
                rgba(168, 85, 247, 0.6), 
                rgba(196, 181, 253, 0.4)
            ), url('https://images.unsplash.com/photo-1603030070898-b67bb3ef6d7d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
        }
        
        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Pause animations on hover */
        .hero-slideshow:hover .slide {
            animation-play-state: paused;
        }
        
        /* ===== SERVICES SECTION ===== */
        .services {
            padding: var(--section-padding);
            background: var(--background);
            position: relative;
            overflow: hidden;
        }
        
        /* Geometric grid pattern animation for services */
        .services::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(90deg, var(--border) 1px, transparent 1px),
                linear-gradient(var(--border) 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.3;
            animation: gridMove 30s linear infinite;
        }
        
        @keyframes gridMove {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(50px, 50px);
            }
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .section-title {
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: var(--font-weight-bold);
            color: var(--foreground);
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }
        
        .section-subtitle {
            font-size: 1.1rem;
            color: var(--muted-foreground);
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .service-card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--border-radius);
            padding: 40px 30px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition-normal);
            cursor: pointer;
            overflow: hidden;
            position: relative;
            z-index: 2;
        }
        
        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
            border-color: var(--solar-orange);
        }
        
        .service-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--solar-yellow), var(--solar-orange));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            font-size: 2rem;
            color: white;
        }
        
        .service-title {
            font-size: 1.4rem;
            font-weight: var(--font-weight-bold);
            margin-bottom: 15px;
            color: var(--card-foreground);
        }
        
        .service-description {
            color: var(--muted-foreground);
            margin-bottom: 20px;
        }
        
        .service-features {
            list-style: none;
            text-align: left;
            margin-top: 20px;
            opacity: 0;
            max-height: 0;
            overflow: hidden;
            transition: all var(--transition-normal);
        }
        
        .service-card.expanded .service-features {
            opacity: 1;
            max-height: 200px;
        }
        
        .service-features li {
            padding: 8px 0;
            color: var(--muted-foreground);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .service-features li::before {
            content: '✓';
            color: var(--solar-green);
            font-weight: bold;
        }
        
        /* ===== REPAIR CTA SECTION ===== */
        .repair-cta-section {
            padding: var(--section-padding);
            background: linear-gradient(135deg, var(--solar-orange) 0%, #DC2626 100%);
            position: relative;
            overflow: hidden;
        }
        
        .repair-cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="repair-grid" width="30" height="30" patternUnits="userSpaceOnUse"><path d="M 30 0 L 0 0 0 30" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23repair-grid)"/></svg>');
            opacity: 0.4;
        }
        
        .repair-cta-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 3rem;
            align-items: center;
            position: relative;
            z-index: 1;
        }
        
        .repair-cta-text {
            color: white;
        }
        
        .repair-cta-title {
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: var(--font-weight-bold);
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .repair-cta-subtitle {
            font-size: 1.125rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            opacity: 0.95;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .repair-highlights {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .highlight-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .highlight-icon {
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .highlight-text {
            font-weight: var(--font-weight-semibold);
            font-size: 1rem;
        }
        
        .repair-cta-actions {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: flex-start;
        }
        
        .btn-repair-services,
        .btn-emergency-call {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: var(--font-weight-bold);
            font-size: 1.1rem;
            transition: all 0.3s ease;
            min-width: 250px;
            justify-content: center;
            text-align: center;
        }
        
        .btn-repair-services {
            background: white;
            color: var(--solar-orange);
            border: 2px solid white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-repair-services:hover {
            background: var(--background);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .btn-emergency-call {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .btn-emergency-call:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }
        
        /* ===== SOLAR CALCULATOR ===== */
        .calculator {
            padding: var(--section-padding);
            background: var(--muted);
            position: relative;
            overflow: hidden;
        }
        
        /* Energy flow line animations for calculator */
        .calculator::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                linear-gradient(45deg, transparent 30%, var(--primary) 30%, var(--primary) 32%, transparent 32%),
                linear-gradient(-45deg, transparent 30%, var(--primary) 30%, var(--primary) 32%, transparent 32%);
            background-size: 100px 100px;
            opacity: 0.1;
            animation: energyFlow 20s linear infinite;
        }
        
        @keyframes energyFlow {
            0% {
                transform: translateX(0) translateY(0);
            }
            100% {
                transform: translateX(100px) translateY(-100px);
            }
        }
        
        .calculator-container {
            background: var(--card);
            border-radius: var(--border-radius);
            padding: 50px;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: var(--shadow-lg);
            position: relative;
            z-index: 1;
        }
        
        .calculator-form {
            display: grid;
            gap: 30px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-label {
            font-weight: var(--font-weight-semibold);
            margin-bottom: 10px;
            color: var(--card-foreground);
        }
        
        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            background: var(--input);
            color: var(--card-foreground);
            transition: var(--transition-fast);
            box-sizing: border-box;
            min-width: 0;
            max-width: 100%;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--solar-orange);
            box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1);
        }
        
        .range-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--border);
            outline: none;
            -webkit-appearance: none;
        }
        
        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--solar-orange);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }
        
        .range-value {
            display: inline-block;
            background: var(--solar-orange);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: var(--font-weight-semibold);
        }
        
        .calculator-results {
            background: var(--muted);
            border: 1px solid var(--border);
            border-radius: var(--border-radius);
            padding: 30px;
            margin-top: 30px;
            box-shadow: var(--shadow);
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .result-item {
            text-align: center;
            padding: 20px;
            background: var(--card);
            border-radius: 8px;
        }
        
        .result-value {
            font-size: 2rem;
            font-weight: var(--font-weight-bold);
            color: var(--solar-orange);
            display: block;
        }
        
        .result-label {
            font-size: 0.9rem;
            color: var(--muted-foreground);
            margin-top: 5px;
        }
        
        /* ===== TESTIMONIALS ===== */
        .testimonials {
            padding: var(--section-padding);
            background: var(--muted);
            color: var(--foreground);
            position: relative;
            overflow: hidden;
        }
        
        /* Gentle floating elements for testimonials */
        .testimonials::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(3px 3px at 100px 150px, var(--primary), transparent),
                radial-gradient(2px 2px at 200px 50px, var(--chart-2), transparent),
                radial-gradient(1px 1px at 300px 200px, var(--chart-3), transparent),
                radial-gradient(2px 2px at 450px 100px, var(--chart-4), transparent);
            background-repeat: repeat;
            background-size: 500px 300px;
            opacity: 0.2;
            animation: gentleFloat 40s ease-in-out infinite;
        }
        
        @keyframes gentleFloat {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            33% {
                transform: translateY(-15px) rotate(1deg);
            }
            66% {
                transform: translateY(5px) rotate(-0.5deg);
            }
        }
        
        .testimonials .section-title,
        .testimonials .section-subtitle {
            color: var(--foreground);
            position: relative;
            z-index: 1;
        }
        
        .testimonials-carousel {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            overflow: hidden;
            border-radius: var(--border-radius);
        }
        
        .testimonials-track {
            display: flex;
            transition: transform var(--transition-slow);
        }
        
        .testimonial-card {
            flex: 0 0 100%;
            background: var(--card);
            border: 1px solid var(--border);
            color: var(--card-foreground);
            padding: 50px;
            text-align: center;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            position: relative;
            z-index: 2;
        }
        
        .testimonial-quote {
            font-size: 1.2rem;
            font-style: italic;
            margin-bottom: 30px;
            line-height: 1.8;
        }
        
        .testimonial-author {
            font-weight: var(--font-weight-bold);
            color: var(--solar-orange);
            margin-bottom: 5px;
        }
        
        .testimonial-location {
            color: var(--muted-foreground);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }
        
        .testimonial-savings {
            background: var(--solar-yellow);
            color: var(--dark-gray);
            padding: 15px;
            border-radius: 8px;
            font-weight: var(--font-weight-semibold);
            display: inline-block;
        }
        
        .carousel-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            border: none;
            cursor: pointer;
            transition: var(--transition-fast);
        }
        
        .carousel-dot.active {
            background: var(--solar-orange);
            transform: scale(1.2);
        }
        
        /* ===== CONTACT SECTION ===== */
        .contact {
            padding: var(--section-padding);
            background: var(--background);
            position: relative;
            overflow: hidden;
        }
        
        /* Professional animated background for contact */
        .contact::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(135deg, transparent 25%, var(--accent) 25%, var(--accent) 26%, transparent 26%),
                linear-gradient(45deg, transparent 25%, var(--accent) 25%, var(--accent) 26%, transparent 26%);
            background-size: 80px 80px;
            opacity: 0.05;
            animation: professionalFloat 35s ease-in-out infinite;
        }
        
        @keyframes professionalFloat {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            50% {
                transform: translate(-10px, -10px) rotate(2deg);
            }
        }
        
        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: start;
            max-width: 100%;
            overflow: hidden;
        }
        
        .contact-info {
            padding: 40px;
            position: relative;
            z-index: 1;
        }
        
        .contact-form {
            background: var(--card);
            border: 1px solid var(--border);
            padding: 40px 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            position: relative;
            z-index: 1;
            max-width: 100%;
            min-width: 0;
        }
        
        .contact-form .form-group {
            margin-bottom: 25px;
            width: 100%;
            min-width: 0;
        }
        
        .form-textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            background: var(--input);
            color: var(--card-foreground);
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
            transition: var(--transition-fast);
            box-sizing: border-box;
            min-width: 0;
            max-width: 100%;
        }
        
        .form-textarea:focus {
            outline: none;
            border-color: var(--solar-orange);
            box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1);
        }
        
        .file-input {
            width: 100%;
            padding: 15px;
            border: 2px dashed var(--border);
            border-radius: 8px;
            font-size: 1rem;
            background: var(--input);
            color: var(--card-foreground);
            transition: var(--transition-fast);
            cursor: pointer;
            box-sizing: border-box;
            min-width: 0;
            max-width: 100%;
        }
        
        .file-input:hover {
            border-color: var(--solar-orange);
            background: rgba(234, 88, 12, 0.05);
        }
        
        .file-input:focus {
            outline: none;
            border-color: var(--solar-orange);
            box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1);
        }
        
        .file-help-text {
            font-size: 0.9rem;
            color: var(--muted-foreground);
            margin-top: 8px;
            font-style: italic;
        }
        
        .file-display {
            margin-top: 10px;
            padding: 10px;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid var(--solar-green);
            border-radius: 6px;
            color: var(--solar-green);
            font-size: 0.9rem;
            display: none;
        }
        
        .file-display.show {
            display: block;
        }
        
        .file-display .file-name {
            font-weight: var(--font-weight-semibold);
        }
        
        .file-display .file-size {
            opacity: 0.8;
            margin-left: 10px;
        }
        
        .submit-button {
            width: 100%;
            background: linear-gradient(135deg, var(--solar-yellow), var(--solar-orange));
            color: white;
            padding: 18px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: var(--font-weight-semibold);
            cursor: pointer;
            transition: var(--transition-normal);
        }
        
        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(234, 88, 12, 0.3);
        }
        
        .submit-button:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        .form-message {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: var(--font-weight-semibold);
            text-align: center;
            display: none;
        }
        
        .form-message.success {
            background: #D1FAE5;
            color: #065F46;
            border: 1px solid #10B981;
        }
        
        .form-message.error {
            background: #FEE2E2;
            color: #991B1B;
            border: 1px solid #EF4444;
        }
        
        /* ===== FOOTER ===== */
        .footer {
            background: var(--muted) !important;
            background-color: var(--muted) !important;
            color: var(--foreground) !important;
            padding: 50px 0 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        /* Add subtle wave animation to footer */
        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(ellipse at center top, var(--primary) 0%, transparent 50%),
                radial-gradient(ellipse at center bottom, var(--chart-5) 0%, transparent 50%);
            opacity: 0.03;
            animation: waveMotion 45s ease-in-out infinite;
        }
        
        @keyframes waveMotion {
            0%, 100% {
                transform: translateY(0px) scaleY(1);
            }
            50% {
                transform: translateY(-10px) scaleY(1.05);
            }
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }
        
        .footer-section h3 {
            color: var(--solar-orange);
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .footer-section p,
        .footer-section a {
            color: var(--muted-foreground) !important;
            text-decoration: none;
            line-height: 1.8;
        }
        
        .footer-section a:hover {
            color: var(--solar-orange);
        }
        
        .footer-bottom {
            border-top: 1px solid var(--border);
            padding-top: 30px;
            color: var(--muted-foreground);
            position: relative;
            z-index: 1;
        }
        
        /* Navigation spacing for medium screens */
        @media (max-width: 1200px) and (min-width: 769px) {
            .nav-menu {
                gap: 25px;
            }
        }
        
        @media (max-width: 900px) and (min-width: 769px) {
            .nav-menu {
                gap: 20px;
            }
        }
        
        /* ===== ACCESSIBILITY - REDUCED MOTION ===== */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
            
            .global-grid-container,
            .grid-layer-1,
            .grid-layer-2,
            .grid-layer-3,
            .animated-grid-line,
            .grid-intersection {
                animation: none !important;
            }
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 1024px) {
            .contact-container {
                gap: 40px;
            }
            
            .contact-form {
                padding: 35px 25px;
            }
        }
        
        @media (max-width: 768px) {
            .nav {
                justify-content: space-between;
            }
            
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 70px);
                background: var(--background);
                border: 1px solid var(--border);
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                padding: 50px 0;
                gap: 40px;
                transition: var(--transition-normal);
                box-shadow: var(--shadow-lg);
                transform: none; /* Reset the centering transform for mobile */
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            /* Mobile dropdown styles */
            .nav-dropdown .dropdown-menu {
                position: static;
                opacity: 1;
                visibility: visible;
                transform: none;
                box-shadow: none;
                border: none;
                border-radius: 0;
                background: var(--muted);
                margin: 0.5rem 0;
                display: none;
            }
            
            .nav-dropdown.active .dropdown-menu {
                display: block;
            }
            
            .dropdown-toggle::after {
                content: ' ▾';
                font-size: 0.8rem;
            }
            
            .nav-dropdown.active .dropdown-toggle::after {
                content: ' ▴';
            }
            
            .dropdown-link {
                border-left: none;
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .nav-right {
                min-width: auto;
            }
            
            /* Hero Slideshow Mobile Styles */
            .hero-slideshow {
                min-height: 80vh; /* Reduce height on mobile */
            }
            
            .slide-content {
                padding: 0 15px;
            }
            
            .hero-title {
                font-size: clamp(2rem, 8vw, 2.8rem);
                margin-bottom: 15px;
            }
            
            .hero-subtitle {
                font-size: clamp(1rem, 4vw, 1.2rem);
                margin-bottom: 30px;
            }
            
            .hero-stats {
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin: 30px 0;
            }
            
            .stat-item {
                padding: 15px 10px;
            }
            
            .stat-number {
                font-size: 1.8rem;
            }
            
            .stat-label {
                font-size: 0.8rem;
            }
            
            /* Mobile Navigation Controls */
            .slideshow-nav {
                padding: 0 15px;
            }
            
            .nav-arrow {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            /* Mobile Slide Indicators */
            .slide-dots {
                bottom: 20px;
                gap: 10px;
            }
            
            .dot {
                width: 10px;
                height: 10px;
            }
            
            /* Mobile Call to Action */
            .hero-cta {
                bottom: 60px;
                flex-direction: column;
                gap: 15px;
                padding: 0 20px;
            }
            
            .cta-button-primary,
            .cta-button-secondary {
                padding: 12px 25px;
                font-size: 1rem;
                min-width: 180px;
            }
            
            /* Mobile Repair CTA Section */
            .repair-cta-content {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }
            
            .repair-cta-title {
                font-size: clamp(1.8rem, 6vw, 2.2rem);
            }
            
            .repair-cta-subtitle {
                font-size: 1rem;
            }
            
            .repair-cta-actions {
                align-items: center;
                width: 100%;
            }
            
            .btn-repair-services,
            .btn-emergency-call {
                min-width: 200px;
                padding: 0.875rem 1.5rem;
                font-size: 1rem;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .calculator-container {
                padding: 30px 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .contact-container {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .contact-form {
                padding: 30px 20px;
            }
            
            .contact-info {
                padding: 30px 20px;
            }
            
            .testimonial-card {
                padding: 30px 20px;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            
            .hero-stats {
                grid-template-columns: 1fr;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* ===== UTILITY CLASSES ===== */
        .fade-in {
            opacity: 0;
            animation: fadeIn 1s ease forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        /* ===== GLOBAL ANIMATED GRID SYSTEM ===== */
        
        /* Global grid container */
        .global-grid-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        /* Base grid layers */
        .grid-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.0345; /* Increased by 15% from 0.03 */
        }
        
        .grid-layer-1 {
            background-image: 
                linear-gradient(90deg, var(--border) 1px, transparent 1px),
                linear-gradient(var(--border) 1px, transparent 1px);
            background-size: 80px 80px;
        }
        
        .grid-layer-2 {
            background-image: 
                linear-gradient(90deg, var(--primary) 1px, transparent 1px),
                linear-gradient(var(--primary) 1px, transparent 1px);
            background-size: 40px 40px;
            opacity: 0.023; /* Increased by 15% from 0.02 */
        }
        
        .grid-layer-3 {
            background-image: 
                linear-gradient(90deg, var(--chart-1) 0.5px, transparent 0.5px),
                linear-gradient(var(--chart-1) 0.5px, transparent 0.5px);
            background-size: 160px 160px;
            opacity: 0.01725; /* Increased by 15% from 0.015 */
        }
        
        /* Dynamic grid elements for Anime.js */
        .animated-grid-line {
            position: absolute;
            background: var(--primary);
            opacity: 0.115; /* Increased by 15% from 0.1 */
        }
        
        .grid-line-horizontal {
            height: 1px;
            width: 100%;
        }
        
        .grid-line-vertical {
            width: 1px;
            height: 100%;
        }
        
        .grid-intersection {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0;
        }
        
        /* Solar-themed grid elements */
        .solar-grid-cell {
            position: absolute;
            border: 0.5px solid var(--solar-orange);
            opacity: 0.0575; /* Increased by 15% from 0.05 */
            transition: opacity 0.3s ease;
        }
        
        .solar-grid-cell.active {
            opacity: 0.23; /* Increased by 15% from 0.2 */
            box-shadow: 0 0 10px rgba(234, 88, 12, 0.345); /* Increased by 15% from 0.3 */
        }
        
        /* Circuit board style grid */
        .circuit-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.0575; /* Increased by 15% from 0.05 */
        }
        
        .circuit-path {
            position: absolute;
            background: linear-gradient(90deg, var(--chart-4), var(--primary));
            height: 2px;
            opacity: 0;
        }
        
        .circuit-node {
            position: absolute;
            width: 6px;
            height: 6px;
            background: var(--chart-4);
            border-radius: 50%;
            opacity: 0;
        }
        
        /* Mobile-specific grid adjustments */
        @media (max-width: 768px) {
            .grid-layer-1 {
                background-size: 60px 60px;
                opacity: 0.023; /* Increased by 15% from 0.02 */
            }
            
            .grid-layer-2 {
                background-size: 30px 30px;
                opacity: 0.01725; /* Increased by 15% from 0.015 */
            }
            
            .grid-layer-3 {
                background-size: 120px 120px;
                opacity: 0.0115; /* Increased by 15% from 0.01 */
            }
            
            .animated-grid-line {
                opacity: 0.0575; /* Increased by 15% from 0.05 */
            }
            
            .grid-intersection {
                width: 2px;
                height: 2px;
            }
            
            .circuit-path {
                height: 1px;
            }
            
            .circuit-node {
                width: 4px;
                height: 4px;
            }
        }
        
        /* Tablet adjustments */
        @media (min-width: 769px) and (max-width: 1024px) {
            .grid-layer-1 {
                background-size: 70px 70px;
                opacity: 0.02875; /* Increased by 15% from 0.025 */
            }
            
            .grid-layer-2 {
                background-size: 35px 35px;
                opacity: 0.0207; /* Increased by 15% from 0.018 */
            }
            
            .animated-grid-line {
                opacity: 0.092; /* Increased by 15% from 0.08 */
            }
        }
        
        /* Enhanced System Services Mobile Responsiveness */
        @media (max-width: 480px) {
            .system-services {
                padding: 60px 0;
                margin: 0;
                padding-left: 20px;
                padding-right: 20px;
                /* Adjust borders for mobile */
                box-shadow: 
                    inset 0 2px 0 0 var(--solar-orange),
                    inset 0 -2px 0 0 var(--solar-orange);
            }
            
            .system-services::after {
                height: 80px;
                opacity: 0.05;
            }
            
            .system-services-grid {
                gap: 20px;
                grid-template-columns: 1fr;
            }
            
            .service-card-advanced {
                padding: 30px 20px;
                margin: 0;
                width: 100%;
                transform: translateY(0) scale(1);
            }
            
            .service-card-advanced:hover {
                transform: translateY(-8px) scale(1.01);
                box-shadow: 
                    0 15px 30px rgba(234, 88, 12, 0.1),
                    0 8px 20px rgba(0, 0, 0, 0.08);
            }
            
            .service-icon-advanced {
                width: 60px;
                height: 60px;
                margin-bottom: 20px;
            }
            
            .service-title-advanced {
                font-size: 1.3rem;
                margin-bottom: 12px;
            }
            
            .service-description-advanced {
                font-size: 0.95rem;
                margin-bottom: 20px;
            }
            
            .service-features-advanced li {
                font-size: 0.9rem;
                padding: 6px 0;
            }
            
            .service-cta-advanced {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 768px) {
            .system-services {
                padding: 70px 0;
                margin: 0;
                padding-left: 30px;
                padding-right: 30px;
                /* Adjust borders for tablet */
                box-shadow: 
                    inset 0 2px 0 0 var(--solar-orange),
                    inset 0 -2px 0 0 var(--solar-orange);
            }
            
            .system-services::after {
                height: 100px;
                opacity: 0.06;
            }
            
            .system-services-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .service-card-advanced {
                padding: 35px 25px;
                margin: 0;
                width: 100%;
                box-sizing: border-box;
            }
            
            .service-card-advanced:hover {
                transform: translateY(-12px) scale(1.01);
            }
            
            .service-icon-advanced {
                width: 70px;
                height: 70px;
                margin-bottom: 20px;
            }
            
            .service-title-advanced {
                font-size: 1.4rem;
                margin-bottom: 15px;
            }
            
            .service-description-advanced {
                font-size: 1rem;
                line-height: 1.6;
                margin-bottom: 22px;
            }
            
            .service-features-advanced {
                margin-bottom: 25px;
            }
            
            .service-features-advanced li {
                font-size: 0.95rem;
                padding: 7px 0;
            }
            
            .service-cta-advanced {
                padding: 12px 22px;
                font-size: 0.95rem;
            }
            
            .service-card-advanced:hover {
                transform: translateY(-4px);
            }
            
            /* Ensure container doesn't overflow */
            .container {
                max-width: 100%;
                padding: 0 15px;
                margin: 0 auto;
                overflow: hidden;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .system-services-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 35px;
            }
            
            .service-card-advanced {
                padding: 40px 30px;
            }
        }
        
        /* ===== ACCESSIBILITY & PERFORMANCE ===== */
        
        /* Respect user's motion preferences */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
        
        /* Optimize animations for better performance */
        .hero::before,
        .hero::after,
        .services::before,
        .calculator::before,
        .testimonials::before,
        .contact::before,
        .footer::before {
            will-change: transform;
            transform: translateZ(0); /* Force hardware acceleration */
        }
        
        /* Pause animations when not in viewport for performance */
        @media (prefers-reduced-motion: no-preference) {
            .hero::before { animation-play-state: running; }
            .hero::after { animation-play-state: running; }
            .services::before { animation-play-state: running; }
            .calculator::before { animation-play-state: running; }
            .testimonials::before { animation-play-state: running; }
            .contact::before { animation-play-state: running; }
            .footer::before { animation-play-state: running; }
        }
        
        .loading {
            position: relative;
            color: transparent !important;
        }
        
        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--solar-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    
    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "EkoSolarPros",
      "image": "https://ekosolarpros.com/images/ekosolar-logo.jpg",
      "description": "Top rated solar panel installation company in Georgia 2025. Professional residential and commercial solar installation, maintenance, and repair services. Licensed, bonded, and insured with 25-year warranty. Serving Atlanta, Savannah, Columbus, Augusta, and all of Georgia.",
      "url": "https://ekosolarpros.com",
      "telephone": "(404) 551-6532",
      "email": "ekosolarize@gmail.com",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "123 Solar Street",
        "addressLocality": "Stone Mountain",
        "addressRegion": "GA",
        "postalCode": "30083",
        "addressCountry": "US"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 33.040619,
        "longitude": -83.643074
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday",
          "Tuesday", 
          "Wednesday",
          "Thursday",
          "Friday"
        ],
        "opens": "08:00",
        "closes": "18:00"
      },
      "sameAs": [
        "https://facebook.com/ekosolar",
        "https://linkedin.com/company/ekosolar"
      ],
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "reviewCount": "156",
        "bestRating": "5",
        "worstRating": "1"
      },
      "hasCredential": [
        {
          "@type": "EducationalOccupationalCredential",
          "credentialCategory": "Professional License",
          "name": "Georgia Electrical Contractor License"
        },
        {
          "@type": "EducationalOccupationalCredential", 
          "credentialCategory": "Certification",
          "name": "NABCEP Solar Installation Professional"
        }
      ],
      "knowsAbout": [
        "Solar Panel Installation Georgia",
        "Solar Panel Repair Georgia",
        "Solar Panel Troubleshooting",
        "Residential Solar Systems",
        "Commercial Solar Installation", 
        "Solar System Maintenance",
        "Emergency Solar Repair",
        "Solar Inverter Repair",
        "Preventive Solar Maintenance",
        "Solar Panel Cleaning Georgia",
        "Solar System Diagnostics",
        "Solar Battery Storage",
        "Georgia Solar Incentives",
        "Net Metering",
        "Stone Mountain Solar Services",
        "Atlanta Solar Repair"
      ],
      "priceRange": "$$"
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Service",
      "serviceType": "Solar Panel Installation",
      "provider": {
        "@type": "LocalBusiness",
        "name": "EkoSolarPros"
      },
      "areaServed": {
        "@type": "State",
        "name": "Georgia"
      },
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Solar Services",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Solar Panel Installation",
              "description": "Professional residential and commercial solar panel installation services in Georgia with 25-year warranty"
            }
          },
          {
            "@type": "Offer", 
            "itemOffered": {
              "@type": "Service",
              "name": "Solar System Maintenance",
              "description": "Comprehensive solar system maintenance, cleaning, and inspection services to maximize energy efficiency"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service", 
              "name": "Solar System Troubleshooting & Repair",
              "description": "Expert solar system troubleshooting and repair services to keep your system running at peak performance"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service", 
              "name": "Emergency Solar Panel Repair",
              "description": "24/7 emergency solar panel repair services throughout Georgia including Stone Mountain and surrounding areas"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service", 
              "name": "Solar Inverter Repair Services",
              "description": "Professional solar inverter repair and replacement services for all major brands and models"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service", 
              "name": "Preventive Solar Maintenance Programs",
              "description": "Comprehensive preventive maintenance programs to extend solar system life and maximize performance"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service", 
              "name": "Solar Energy Consultation",
              "description": "Free solar energy consultation and custom system design to maximize your energy savings and ROI"
            }
          }
        ]
      }
    }
    </script>

    <!-- FAQ Schema Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How much does solar panel installation cost in Georgia 2025?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Solar panel installation in Georgia typically costs between $15,000-$30,000 before incentives. With federal tax credits and Georgia solar rebates, homeowners can save 30-50% on total installation costs. EkoSolarPros provides free consultations and custom quotes based on your home's energy needs."
          }
        },
        {
          "@type": "Question", 
          "name": "What is the best solar company in Georgia?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "EkoSolarPros is rated as one of the top solar installation companies in Georgia with 4.9/5 stars and over 156 customer reviews. We're licensed, bonded, insured, and offer 25-year warranties on all installations with NABCEP certified technicians."
          }
        },
        {
          "@type": "Question",
          "name": "How long does solar installation take in Georgia?",
          "acceptedAnswer": {
            "@type": "Answer", 
            "text": "Professional solar panel installation in Georgia typically takes 1-3 days depending on system size. The complete process from consultation to activation usually takes 4-8 weeks including permitting, inspection, and utility connection."
          }
        },
        {
          "@type": "Question",
          "name": "Do solar panels work well in Georgia climate?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, Georgia receives excellent solar irradiance averaging 4.5-5.5 peak sun hours daily. Solar panels perform efficiently in Georgia's climate and can generate significant energy savings year-round, even on cloudy days."
          }
        },
        {
          "@type": "Question",
          "name": "How much does solar panel repair cost in Georgia?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Solar panel repair costs in Georgia typically range from $200-$800 depending on the issue. Common repairs include inverter replacement ($300-$600), panel cleaning ($150-$300), and wiring repairs ($200-$500). EkoSolarPros offers free diagnostic assessments and competitive repair pricing."
          }
        },
        {
          "@type": "Question",
          "name": "What are signs my solar panels need repair?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Signs your solar panels need repair include: decreased energy production, error codes on your inverter, visible damage to panels, loose connections, or unusual noises. EkoSolarPros provides emergency repair services and diagnostic troubleshooting throughout Georgia."
          }
        },
        {
          "@type": "Question",
          "name": "How often should solar panels be maintained in Georgia?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Solar panels in Georgia should be professionally maintained every 6-12 months due to pollen, dust, and weather conditions. Regular maintenance includes cleaning, inspection, performance monitoring, and preventive repairs to ensure optimal energy production."
          }
        },
        {
          "@type": "Question",
          "name": "Do you provide emergency solar repair services?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, EkoSolarPros offers 24/7 emergency solar panel repair services throughout Georgia including Stone Mountain and surrounding areas. Our certified technicians provide rapid response for system failures, storm damage, and urgent repairs."
          }
        }
      ]
    }
    </script>

    <!-- Customer Review Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Review",
      "itemReviewed": {
        "@type": "LocalBusiness",
        "name": "EkoSolarPros"
      },
      "reviewRating": {
        "@type": "Rating",
        "ratingValue": "5",
        "bestRating": "5"
      },
      "author": {
        "@type": "Person",
        "name": "Sarah & Mike Johnson"
      },
      "reviewBody": "EkoSolarPros transformed our home's energy efficiency beyond our expectations. The installation was seamless, and our monthly electricity bills have dropped by 90%. The team was professional, knowledgeable, and made the entire process stress-free.",
      "datePublished": "2024-12-15"
    }
    </script>
    
    <!-- Defer external scripts for better performance -->
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.2/lib/anime.min.js" defer></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js" defer></script>
</head>
<body>
    <!-- Global Animated Grid System -->
    <div class="global-grid-container">
        <div class="grid-layer grid-layer-1"></div>
        <div class="grid-layer grid-layer-2"></div>
        <div class="grid-layer grid-layer-3"></div>
        <div id="dynamic-grid-lines"></div>
        <div id="grid-intersections"></div>
        <div id="solar-grid"></div>
        <div id="circuit-grid" class="circuit-grid"></div>
    </div>

    <!-- Header Navigation -->
    <header class="header">
        <nav class="nav container">
            <a href="#home" class="logo">
                <div class="logo-icon">◆</div>
                EkoSolarPros
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home" class="nav-link active">Home</a></li>
                <li><a href="#services" class="nav-link">Installation</a></li>
                <li class="nav-dropdown">
                    <a href="#repair-services" class="nav-link dropdown-toggle">Repair Services ▾</a>
                    <ul class="dropdown-menu">
                        <li><a href="solar-panel-repair-georgia.html" class="dropdown-link">Solar Panel Repair</a></li>
                        <li><a href="emergency-solar-repair.html" class="dropdown-link">Emergency Repair 24/7</a></li>
                        <li><a href="solar-inverter-repair.html" class="dropdown-link">Inverter Repair</a></li>
                        <li><a href="solar-maintenance-contracts.html" class="dropdown-link">Maintenance Plans</a></li>
                    </ul>
                </li>
                <li><a href="#system-services" class="nav-link">System Services</a></li>
                <li><a href="#calculator" class="nav-link">Calculator</a></li>
                <li><a href="#testimonials" class="nav-link">Reviews</a></li>
                <li><a href="#contact" class="nav-link">Contact</a></li>
            </ul>
            
            <div class="nav-right">
                <button class="mobile-menu-toggle" id="mobileToggle">≡</button>
            </div>
        </nav>
    </header>

    <!-- Breadcrumb Navigation with Schema Markup -->
    <nav class="breadcrumb-nav" aria-label="Breadcrumb">
        <div class="container">
            <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
                <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a href="https://ekosolarpros.com/" itemprop="item">
                        <span itemprop="name">Home</span>
                    </a>
                    <meta itemprop="position" content="1" />
                </li>
                <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <span itemprop="name">Solar Installation & Repair Georgia</span>
                    <meta itemprop="position" content="2" />
                </li>
            </ol>
        </div>
    </nav>

    <!-- Hero Section - Full Screen Solar Slideshow -->
    <section id="home" class="hero-slideshow">
        <!-- Slideshow Container -->
        <div class="slideshow-container">
            <!-- Slide 1: Rooftop Installation -->
            <div class="slide active" data-bg="images/hero-solar-installation-1200w.jpg">
                <div class="slide-overlay"></div>
                <div class="slide-content">
                    <h1 class="hero-title">Professional Solar Installation</h1>
                    <p class="hero-subtitle">Expert rooftop installations with certified technicians across Georgia</p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number" data-target="2500">0</span>
                            <span class="stat-label">Systems Installed</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="98">0</span>
                            <span class="stat-label">% Customer Satisfaction</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="25">0</span>
                            <span class="stat-label">Year Warranty</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 2: Emergency Repair & Troubleshooting -->
            <div class="slide" data-bg="images/hero-solar-repair-1200w.jpg">
                <div class="slide-overlay"></div>
                <div class="slide-content">
                    <h1 class="hero-title">24/7 Emergency Solar Repair</h1>
                    <p class="hero-subtitle">Rapid response for system failures, storm damage, and troubleshooting</p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number" data-target="24">0</span>
                            <span class="stat-label">Hour Response</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="1500">0</span>
                            <span class="stat-label">Repairs Completed</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="95">0</span>
                            <span class="stat-label">% Same-Day Fix</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 3: Maintenance & Cleaning -->
            <div class="slide" data-bg="images/hero-solar-maintenance-1200w.jpg">
                <div class="slide-overlay"></div>
                <div class="slide-content">
                    <h1 class="hero-title">Professional Maintenance Services</h1>
                    <p class="hero-subtitle">Keep your solar system performing at peak efficiency year-round</p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number" data-target="85">0</span>
                            <span class="stat-label">Million kWh Generated</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="30">0</span>
                            <span class="stat-label">% Efficiency Boost</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="42000">0</span>
                            <span class="stat-label">Tons CO₂ Prevented</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 4: Commercial Installation -->
            <div class="slide" data-bg="images/hero-commercial-solar-1200w.jpg">
                <div class="slide-overlay"></div>
                <div class="slide-content">
                    <h1 class="hero-title">Commercial Solar Solutions</h1>
                    <p class="hero-subtitle">Large-scale installations for businesses across Georgia</p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number" data-target="150">0</span>
                            <span class="stat-label">Commercial Projects</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="15">0</span>
                            <span class="stat-label">MW Total Capacity</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="40">0</span>
                            <span class="stat-label">% Cost Reduction</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 5: Electrical Diagnostics -->
            <div class="slide" data-bg="images/hero-solar-diagnostics-1200w.jpg">
                <div class="slide-overlay"></div>
                <div class="slide-content">
                    <h1 class="hero-title">Advanced System Diagnostics</h1>
                    <p class="hero-subtitle">Precision testing and optimization for maximum performance</p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <span class="stat-number" data-target="99">0</span>
                            <span class="stat-label">% Accurate Diagnosis</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="2">0</span>
                            <span class="stat-label">Hour Avg Assessment</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" data-target="100">0</span>
                            <span class="stat-label">% Free Estimates</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slideshow Navigation -->
        <div class="slideshow-nav">
            <button class="nav-arrow prev" aria-label="Previous slide">❮</button>
            <button class="nav-arrow next" aria-label="Next slide">❯</button>
        </div>

        <!-- Slide Indicators -->
        <div class="slide-dots">
            <button class="dot active" data-slide="0" aria-label="Go to slide 1"></button>
            <button class="dot" data-slide="1" aria-label="Go to slide 2"></button>
            <button class="dot" data-slide="2" aria-label="Go to slide 3"></button>
            <button class="dot" data-slide="3" aria-label="Go to slide 4"></button>
            <button class="dot" data-slide="4" aria-label="Go to slide 5"></button>
        </div>

        <!-- Call to Action -->
        <div class="hero-cta">
            <a href="#calculator" class="cta-button-primary">Get Free Solar Quote</a>
            <a href="tel:4045516532" class="cta-button-secondary">Emergency: (404) 551-6532</a>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="services">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Georgia Solar Installation, Repair & Maintenance Services | Residential Solar 2025</h2>
                <p class="section-subtitle">Comprehensive solar installation solutions designed to meet your energy needs and maximize your investment returns with professional maintenance support.</p>
            </div>
            
            <div class="services-grid">
                <div class="service-card" onclick="toggleService(this)">
                    <picture>
                        <source srcset="images/solar-installation-400w.webp" type="image/webp">
                        <img src="images/solar-installation-400w.jpg" alt="Residential solar panel installation Georgia certified technicians installing rooftop solar system" width="400" height="200" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 20px;" loading="lazy">
                    </picture>
                    <div class="service-icon">⌂</div>
                    <h3 class="service-title">Professional Solar Panel Installation</h3>
                    <p class="service-description">Expert residential and commercial solar panel installation in Georgia with premium equipment, 25-year warranty, and professional certification.</p>
                    <ul class="service-features">
                        <li>Free site assessment and design</li>
                        <li>Premium tier-1 solar panels</li>
                        <li>25-year equipment warranty</li>
                        <li>Professional installation certification</li>
                        <li>Grid connection and permitting</li>
                    </ul>
                </div>
                
                <div class="service-card" onclick="toggleService(this)">
                    <picture>
                        <source srcset="images/solar-maintenance-400w.webp" type="image/webp">
                        <img src="images/solar-maintenance-400w.jpg" alt="Solar panel repair and maintenance Georgia technician troubleshooting and servicing residential solar installation near Stone Mountain" width="400" height="200" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 20px;" loading="lazy">
                    </picture>
                    <div class="service-icon">⚙</div>
                    <h3 class="service-title">Solar Panel Maintenance, Repair & Troubleshooting Services</h3>
                    <p class="service-description">Comprehensive solar panel maintenance, repair, and troubleshooting programs including emergency repair services, preventive maintenance, and system diagnostics to ensure optimal performance and longevity of your Georgia solar installation.</p>
                    <ul class="service-features">
                        <li>Regular system performance monitoring</li>
                        <li>Professional cleaning and inspection</li>
                        <li>Inverter and component maintenance</li>
                        <li>Solar panel repair and troubleshooting</li>
                        <li>Emergency solar system repair services</li>
                        <li>Preventive maintenance programs</li>
                        <li>24/7 system monitoring alerts</li>
                    </ul>
                </div>
                
                <div class="service-card" onclick="toggleService(this)">
                    <picture>
                        <source srcset="images/solar-consultation-400w.webp" type="image/webp">
                        <img src="images/solar-consultation-400w.jpg" alt="Solar energy consultation and repair assessment Georgia expert analyzing system performance and troubleshooting issues" width="400" height="200" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 20px;" loading="lazy">
                    </picture>
                    <div class="service-icon">◉</div>
                    <h3 class="service-title">Solar Energy Consultation</h3>
                    <p class="service-description">Free solar energy consultation and analysis to optimize your energy usage and maximize solar savings potential for Georgia homeowners.</p>
                    <ul class="service-features">
                        <li>Home energy audit and analysis</li>
                        <li>Custom solar system design</li>
                        <li>Financial analysis and ROI projections</li>
                        <li>Incentive and rebate guidance</li>
                        <li>Energy efficiency recommendations</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Solar Repair & Maintenance CTA Section -->
    <section id="repair-services" class="repair-cta-section">
        <div class="container">
            <div class="repair-cta-content">
                <div class="repair-cta-text">
                    <h2 class="repair-cta-title">Need Solar Repair or Maintenance?</h2>
                    <p class="repair-cta-subtitle">From emergency repairs to routine maintenance, our certified technicians provide comprehensive solar services throughout Georgia. Get expert diagnostics, panel repairs, inverter services, and system optimization.</p>
                    <div class="repair-highlights">
                        <div class="highlight-item">
                            <span class="highlight-icon">⚠</span>
                            <span class="highlight-text">24/7 Emergency Response</span>
                        </div>
                        <div class="highlight-item">
                            <span class="highlight-icon">⚙</span>
                            <span class="highlight-text">All Major Brands Serviced</span>
                        </div>
                        <div class="highlight-item">
                            <span class="highlight-icon">✓</span>
                            <span class="highlight-text">Licensed & Certified Technicians</span>
                        </div>
                    </div>
                </div>
                <div class="repair-cta-actions">
                    <a href="solar-repair-services.html" class="btn-repair-services">
                        View All Repair Services
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M7 17L17 7M17 7H7M17 7V17"/>
                        </svg>
                    </a>
                    <a href="tel:4045516532" class="btn-emergency-call">
                        Emergency: (404) 551-6532
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Solar Calculator Section -->
    <section id="calculator" class="calculator">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Solar Savings Calculator</h2>
                <p class="section-subtitle">Discover your potential energy savings and return on investment with our interactive solar calculator.</p>
            </div>
            
            <div class="calculator-container">
                <form class="calculator-form" id="solarCalculator">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Monthly Electric Bill</label>
                            <input type="number" class="form-input" id="electricBill" placeholder="Enter amount ($)" min="0" step="10">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Home Size (sq ft)</label>
                            <input type="number" class="form-input" id="homeSize" placeholder="Enter square footage" min="500" step="100">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">
                                Roof Sun Exposure: <span class="range-value" id="sunExposureValue">Good</span>
                            </label>
                            <input type="range" class="range-slider" id="sunExposure" min="1" max="3" value="2">
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                Energy Usage: <span class="range-value" id="energyUsageValue">Average</span>
                            </label>
                            <input type="range" class="range-slider" id="energyUsage" min="1" max="3" value="2">
                        </div>
                    </div>
                </form>
                
                <div class="calculator-results" id="calculatorResults">
                    <div class="results-grid">
                        <div class="result-item">
                            <span class="result-value" id="monthlySavings">$0</span>
                            <span class="result-label">Monthly Savings</span>
                        </div>
                        <div class="result-item">
                            <span class="result-value" id="annualSavings">$0</span>
                            <span class="result-label">Annual Savings</span>
                        </div>
                        <div class="result-item">
                            <span class="result-value" id="systemCost">$0</span>
                            <span class="result-label">Estimated System Cost</span>
                        </div>
                        <div class="result-item">
                            <span class="result-value" id="paybackPeriod">0 yrs</span>
                            <span class="result-label">Payback Period</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Georgia Solar Installation & Repair Reviews | Customer Testimonials 2025</h2>
                <p class="section-subtitle">Real stories from Georgia homeowners who transformed their energy future with EkoSolarPros's professional solar services.</p>
            </div>
            
            <div class="testimonials-carousel">
                <div class="testimonials-track" id="testimonialsTrack">
                    <div class="testimonial-card">
                        <p class="testimonial-quote">"EkoSolarPros transformed our home's energy efficiency beyond our expectations. The installation was seamless, and our monthly electricity bills have dropped by 90%. The team was professional, knowledgeable, and made the entire process stress-free."</p>
                        <p class="testimonial-author">Sarah & Mike Johnson</p>
                        <p class="testimonial-location">Stone Mountain, GA</p>
                        <div class="testimonial-savings">Saving $180/month • 95% Bill Reduction</div>
                    </div>
                    
                    <div class="testimonial-card">
                        <p class="testimonial-quote">"The ROI has been incredible! In just 18 months, we've already seen significant returns, and the system is performing even better than projected. EkoSolarPros's maintenance program keeps everything running perfectly."</p>
                        <p class="testimonial-author">David Chen</p>
                        <p class="testimonial-location">Augusta, GA</p>
                        <div class="testimonial-savings">Saving $220/month • 6.2 Year Payback</div>
                    </div>
                    
                    <div class="testimonial-card">
                        <p class="testimonial-quote">"From consultation to installation, EkoSolarPros exceeded every expectation. They handled all permits, rebates, and utility connections. Now we're generating more power than we use and actually earning credits!"</p>
                        <p class="testimonial-author">Maria Rodriguez</p>
                        <p class="testimonial-location">Savannah, GA</p>
                        <div class="testimonial-savings">Saving $165/month • Net Positive Energy</div>
                    </div>
                </div>
                
                <div class="carousel-controls">
                    <button class="carousel-dot active" onclick="showTestimonial(0)"></button>
                    <button class="carousel-dot" onclick="showTestimonial(1)"></button>
                    <button class="carousel-dot" onclick="showTestimonial(2)"></button>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Ready to Go Solar?</h2>
                <p class="section-subtitle">Get your free consultation and personalized solar proposal today.</p>
            </div>
            
            <div class="contact-container">
                <div class="contact-info">
                    <h3>Get Your Free Solar Consultation</h3>
                    <p>Our solar experts will analyze your home's energy needs, roof specifications, and local incentives to create a custom solar solution that maximizes your savings.</p>
                    
                    <div style="margin-top: 40px;">
                        <h4 style="color: var(--solar-orange); margin-bottom: 20px;">What's Included:</h4>
                        <ul style="list-style: none; line-height: 2;">
                            <li>✓ Comprehensive energy audit</li>
                            <li>✓ Custom system design</li>
                            <li>✓ Detailed financial analysis</li>
                            <li>✓ Incentive and rebate guidance</li>
                            <li>✓ No-obligation proposal</li>
                        </ul>
                    </div>
                    
                    <div style="margin-top: 40px;">
                        <p><strong>☎ Call us:</strong> (404) 551-6532</p>
                        <p><strong>✉ Email:</strong> ekosolarize@gmail.com</p>
                        <p><strong>◉ Service Areas:</strong> Entire state of Georgia</p>
                    </div>
                </div>
                
                <form class="contact-form" id="contactForm" name="solar-consultation" method="POST" data-netlify="true" netlify-honeypot="bot-field">
                    <!-- Hidden fields for Netlify Forms -->
                    <input type="hidden" name="form-name" value="solar-consultation" />
                    <div style="display: none;">
                        <label>Don't fill this out if you're human: <input name="bot-field" /></label>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Full Name *</label>
                        <input type="text" class="form-input" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email Address *</label>
                        <input type="email" class="form-input" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Phone Number *</label>
                        <input type="tel" class="form-input" name="phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Home Address</label>
                        <input type="text" class="form-input" name="address" placeholder="For accurate solar assessment">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Current Monthly Electric Bill</label>
                        <input type="number" class="form-input" name="electricBill" placeholder="Enter amount ($)" min="0">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Upload Power Bill (PDF) - Optional</label>
                        <input type="file" class="form-input file-input" name="powerBill" accept=".pdf" id="powerBillUpload">
                        <p class="file-help-text">Upload your recent power bill (PDF, max 10MB) for more accurate solar estimates</p>
                        <div class="file-display" id="fileDisplay"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Additional Information</label>
                        <textarea class="form-textarea" name="message" placeholder="Tell us about your energy goals, roof type, or any questions you have..."></textarea>
                    </div>
                    
                    <button type="submit" class="submit-button">Request Free Consultation</button>
                    
                    <div class="form-message" id="formMessage"></div>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>EkoSolarPros</h3>
                    <p>Leading Georgia towards a sustainable energy future with premium solar solutions and exceptional customer service.</p>
                    <p style="margin-top: 20px;">Licensed • Bonded • Insured</p>
                </div>
                
                <div class="footer-section">
                    <h3>Installation Services</h3>
                    <p><a href="#services">Residential Solar Installation</a></p>
                    <p><a href="#services">Commercial Solar Systems</a></p>
                    <p><a href="#calculator">Solar Calculator</a></p>
                    <p><a href="#services">Energy Consultation</a></p>
                </div>
                
                <div class="footer-section">
                    <h3>Repair & Maintenance</h3>
                    <p><a href="solar-panel-repair-georgia.html">Solar Panel Repair</a></p>
                    <p><a href="emergency-solar-repair.html">24/7 Emergency Repair</a></p>
                    <p><a href="solar-inverter-repair.html">Inverter Repair</a></p>
                    <p><a href="solar-maintenance-contracts.html">Maintenance Contracts</a></p>
                </div>
                
                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <div itemscope itemtype="https://schema.org/LocalBusiness">
                        <p><strong itemprop="name">EkoSolarPros - Solar Installation Georgia</strong></p>
                        <div itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
                            <p>📍 <span itemprop="streetAddress">123 Solar Street</span></p>
                            <p><span itemprop="addressLocality">Stone Mountain</span>, <span itemprop="addressRegion">GA</span> <span itemprop="postalCode">30083</span></p>
                        </div>
                        <p>☎ <span itemprop="telephone">(404) 551-6532</span></p>
                        <p>✉ <span itemprop="email">ekosolarize@gmail.com</span></p>
                        <p>◉ <span itemprop="areaServed">Serving all of Georgia</span></p>
                        <p>🕒 <span itemprop="openingHours" content="Mo-Fr 08:00-17:00">Mon-Fri: 8AM-5PM</span></p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 EkoSolarPros. All rights reserved. | Transforming homes with clean, renewable solar energy.</p>
            </div>
        </div>
    </footer>

    <script>
        // ===== GLOBAL ANIMATED GRID SYSTEM =====
        class GlobalGridSystem {
            constructor() {
                this.gridLayers = document.querySelectorAll('.grid-layer');
                this.dynamicLinesContainer = document.getElementById('dynamic-grid-lines');
                this.intersectionsContainer = document.getElementById('grid-intersections');
                this.solarGridContainer = document.getElementById('solar-grid');
                this.circuitGridContainer = document.getElementById('circuit-grid');
                this.isReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                
                this.init();
            }
            
            init() {
                if (this.isReducedMotion) return;
                
                this.animateGridLayers();
                this.createDynamicLines();
                this.createGridIntersections();
                this.createSolarGrid();
                this.createCircuitGrid();
                this.setupMouseInteraction();
                this.setupResizeHandler();
            }
            
            animateGridLayers() {
                // Animate the base CSS grid layers with different speeds and directions
                anime({
                    targets: '.grid-layer-1',
                    translateX: ['0px', '80px'],
                    translateY: ['0px', '40px'],
                    duration: 45000,
                    easing: 'linear',
                    loop: true
                });
                
                anime({
                    targets: '.grid-layer-2',
                    translateX: ['0px', '-40px'],
                    translateY: ['0px', '60px'],
                    duration: 35000,
                    easing: 'linear',
                    loop: true
                });
                
                anime({
                    targets: '.grid-layer-3',
                    translateX: ['0px', '160px'],
                    translateY: ['0px', '-80px'],
                    duration: 60000,
                    easing: 'linear',
                    loop: true
                });
            }
            
            createDynamicLines() {
                // Responsive line count based on screen size
                const isMobile = window.innerWidth <= 768;
                const isTablet = window.innerWidth > 768 && window.innerWidth <= 1024;
                const lineCount = isMobile ? 3 : isTablet ? 4 : 6;
                
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                
                // Create horizontal lines
                for (let i = 0; i < lineCount; i++) {
                    const line = document.createElement('div');
                    line.className = 'animated-grid-line grid-line-horizontal';
                    line.style.top = `${(viewportHeight / lineCount) * i}px`;
                    line.style.transform = `translateX(-100%)`;
                    this.dynamicLinesContainer.appendChild(line);
                    
                    // Animate with staggered delays
                    anime({
                        targets: line,
                        translateX: ['-100%', '100%'],
                        duration: 8000 + (i * 1000),
                        easing: 'easeInOutSine',
                        loop: true,
                        delay: i * 500
                    });
                }
                
                // Create vertical lines
                for (let i = 0; i < lineCount; i++) {
                    const line = document.createElement('div');
                    line.className = 'animated-grid-line grid-line-vertical';
                    line.style.left = `${(viewportWidth / lineCount) * i}px`;
                    line.style.transform = `translateY(-100%)`;
                    this.dynamicLinesContainer.appendChild(line);
                    
                    // Animate with staggered delays
                    anime({
                        targets: line,
                        translateY: ['-100%', '100%'],
                        duration: 10000 + (i * 800),
                        easing: 'easeInOutSine',
                        loop: true,
                        delay: i * 700
                    });
                }
            }
            
            createGridIntersections() {
                // Responsive intersection count
                const isMobile = window.innerWidth <= 768;
                const isTablet = window.innerWidth > 768 && window.innerWidth <= 1024;
                const intersectionCount = isMobile ? 8 : isTablet ? 12 : 20;
                
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                
                for (let i = 0; i < intersectionCount; i++) {
                    const intersection = document.createElement('div');
                    intersection.className = 'grid-intersection';
                    intersection.style.left = `${Math.random() * viewportWidth}px`;
                    intersection.style.top = `${Math.random() * viewportHeight}px`;
                    this.intersectionsContainer.appendChild(intersection);
                    
                    // Pulse animation
                    anime({
                        targets: intersection,
                        opacity: [0, 0.345, 0], /* Increased by 15% from [0, 0.3, 0] */
                        scale: [0.5, 1.2, 0.5],
                        duration: 3000,
                        easing: 'easeInOutSine',
                        loop: true,
                        delay: Math.random() * 2000
                    });
                }
            }
            
            createSolarGrid() {
                // Responsive cell size
                const isMobile = window.innerWidth <= 768;
                const isTablet = window.innerWidth > 768 && window.innerWidth <= 1024;
                const cellSize = isMobile ? 80 : isTablet ? 100 : 120;
                
                const cols = Math.ceil(window.innerWidth / cellSize) + 1;
                const rows = Math.ceil(window.innerHeight / cellSize) + 1;
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'solar-grid-cell';
                        cell.style.left = `${col * cellSize}px`;
                        cell.style.top = `${row * cellSize}px`;
                        cell.style.width = `${cellSize - 2}px`;
                        cell.style.height = `${cellSize - 2}px`;
                        this.solarGridContainer.appendChild(cell);
                        
                        // Random activation animation
                        anime({
                            targets: cell,
                            opacity: [0.0575, 0.1725, 0.0575], /* Increased by 15% from [0.05, 0.15, 0.05] */
                            duration: 4000 + Math.random() * 3000,
                            easing: 'easeInOutSine',
                            loop: true,
                            delay: Math.random() * 5000
                        });
                    }
                }
            }
            
            createCircuitGrid() {
                // Responsive counts for mobile/tablet
                const isMobile = window.innerWidth <= 768;
                const isTablet = window.innerWidth > 768 && window.innerWidth <= 1024;
                const pathCount = isMobile ? 4 : isTablet ? 6 : 8;
                const nodeCount = isMobile ? 8 : isTablet ? 10 : 15;
                
                const viewportWidth = window.innerWidth;
                const viewportHeight = window.innerHeight;
                
                // Create circuit paths
                for (let i = 0; i < pathCount; i++) {
                    const path = document.createElement('div');
                    path.className = 'circuit-path';
                    path.style.top = `${Math.random() * viewportHeight}px`;
                    path.style.left = `0px`;
                    path.style.width = `${viewportWidth * 0.3}px`;
                    this.circuitGridContainer.appendChild(path);
                    
                    // Flowing animation
                    anime({
                        targets: path,
                        opacity: [0, 0.345, 0], /* Increased by 15% from [0, 0.3, 0] */
                        scaleX: [0, 1, 0],
                        duration: 6000,
                        easing: 'easeInOutSine',
                        loop: true,
                        delay: i * 800
                    });
                }
                
                // Create circuit nodes
                for (let i = 0; i < nodeCount; i++) {
                    const node = document.createElement('div');
                    node.className = 'circuit-node';
                    node.style.left = `${Math.random() * viewportWidth}px`;
                    node.style.top = `${Math.random() * viewportHeight}px`;
                    this.circuitGridContainer.appendChild(node);
                    
                    // Blinking animation
                    anime({
                        targets: node,
                        opacity: [0, 0.69, 0], /* Increased by 15% from [0, 0.6, 0] */
                        scale: [0.5, 1, 0.5],
                        duration: 2000,
                        easing: 'easeInOutSine',
                        loop: true,
                        delay: Math.random() * 3000
                    });
                }
            }
            
            setupMouseInteraction() {
                let mouseX = 0;
                let mouseY = 0;
                
                // Only enable mouse interaction on non-touch devices
                if (!window.matchMedia('(pointer: coarse)').matches) {
                    document.addEventListener('mousemove', (e) => {
                        mouseX = e.clientX / window.innerWidth;
                        mouseY = e.clientY / window.innerHeight;
                        
                        // Subtle parallax effect on grid layers
                        anime({
                            targets: '.grid-layer-1',
                            translateX: `${mouseX * 20}px`,
                            translateY: `${mouseY * 15}px`,
                            duration: 1000,
                            easing: 'easeOutQuint'
                        });
                        
                        anime({
                            targets: '.grid-layer-2',
                            translateX: `${mouseX * -15}px`,
                            translateY: `${mouseY * 10}px`,
                            duration: 800,
                            easing: 'easeOutQuint'
                        });
                    });
                }
            }
            
            setupResizeHandler() {
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        // Clear existing elements
                        this.dynamicLinesContainer.innerHTML = '';
                        this.intersectionsContainer.innerHTML = '';
                        this.solarGridContainer.innerHTML = '';
                        this.circuitGridContainer.innerHTML = '';
                        
                        // Recreate with new dimensions
                        if (!this.isReducedMotion) {
                            this.createDynamicLines();
                            this.createGridIntersections();
                            this.createSolarGrid();
                            this.createCircuitGrid();
                        }
                    }, 250);
                });
            }
        }
        
        // ===== GLOBAL VARIABLES =====
        let currentTestimonial = 0;
        const totalTestimonials = 3;
        let testimonialInterval;
        let globalGridSystem;
        
        // ===== NAVIGATION FUNCTIONALITY =====
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Global Grid System
            globalGridSystem = new GlobalGridSystem();
            
            // Mobile menu toggle
            const mobileToggle = document.getElementById('mobileToggle');
            const navMenu = document.getElementById('navMenu');
            
            mobileToggle.addEventListener('click', function() {
                navMenu.classList.toggle('active');
                this.textContent = navMenu.classList.contains('active') ? '✕' : '≡';
            });
            
            // Handle mobile dropdown toggles
            document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        const dropdown = this.closest('.nav-dropdown');
                        dropdown.classList.toggle('active');
                        
                        // Close other dropdowns
                        document.querySelectorAll('.nav-dropdown').forEach(other => {
                            if (other !== dropdown) {
                                other.classList.remove('active');
                            }
                        });
                    }
                });
            });
            
            // Smooth scrolling and active nav updates
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetSection = document.getElementById(targetId);
                    
                    if (targetSection) {
                        const headerHeight = document.querySelector('.header').offsetHeight;
                        const targetPosition = targetSection.offsetTop - headerHeight;
                        
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu if open
                        navMenu.classList.remove('active');
                        mobileToggle.textContent = '≡';
                        
                        // Update active nav link
                        updateActiveNavLink(targetId);
                    }
                });
            });
            
            // Update active nav link on scroll
            window.addEventListener('scroll', updateActiveNavOnScroll);
            
            // Initialize animations and counters
            initializeAnimations();
            initializeCalculator();
            initializeTestimonials();
            initializeContactForm();
        });
        
        function updateActiveNavLink(activeId) {
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                if (link.getAttribute('href') === `#${activeId}`) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }
        
        function updateActiveNavOnScroll() {
            const sections = document.querySelectorAll('section');
            const headerHeight = document.querySelector('.header').offsetHeight;
            const scrollPosition = window.scrollY + headerHeight + 100;
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;
                
                if (scrollPosition >= sectionTop && scrollPosition <= sectionBottom) {
                    updateActiveNavLink(section.id);
                }
            });
        }
        
        // ===== ANIMATION FUNCTIONS =====
        function initializeAnimations() {
            // Initialize intersection observer for fade-in animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                        
                        // Trigger counter animation for statistics
                        if (entry.target.classList.contains('hero')) {
                            animateCounters();
                        }
                    }
                });
            }, observerOptions);
            
            // Observe sections for animations
            document.querySelectorAll('section').forEach(section => {
                observer.observe(section);
            });
        }
        
        function animateCounters() {
            const counters = document.querySelectorAll('.stat-number');
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-target'));
                const duration = 2000; // 2 seconds
                const increment = target / (duration / 16); // 60 FPS
                let current = 0;
                
                const updateCounter = () => {
                    current += increment;
                    if (current < target) {
                        counter.textContent = Math.floor(current).toLocaleString();
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.textContent = target.toLocaleString();
                    }
                };
                
                updateCounter();
            });
        }
        
        // ===== SERVICE CARD FUNCTIONALITY =====
        function toggleService(card) {
            // Close other expanded cards
            document.querySelectorAll('.service-card').forEach(otherCard => {
                if (otherCard !== card) {
                    otherCard.classList.remove('expanded');
                }
            });
            
            // Toggle current card
            card.classList.toggle('expanded');
        }
        
        // ===== SOLAR CALCULATOR FUNCTIONALITY =====
        function initializeCalculator() {
            const electricBillInput = document.getElementById('electricBill');
            const homeSizeInput = document.getElementById('homeSize');
            const sunExposureSlider = document.getElementById('sunExposure');
            const energyUsageSlider = document.getElementById('energyUsage');
            const sunExposureValue = document.getElementById('sunExposureValue');
            const energyUsageValue = document.getElementById('energyUsageValue');
            
            // Update slider display values
            sunExposureSlider.addEventListener('input', function() {
                const exposureTexts = ['Poor', 'Good', 'Excellent'];
                sunExposureValue.textContent = exposureTexts[this.value - 1];
                calculateSolarSavings();
            });
            
            energyUsageSlider.addEventListener('input', function() {
                const usageTexts = ['Low', 'Average', 'High'];
                energyUsageValue.textContent = usageTexts[this.value - 1];
                calculateSolarSavings();
            });
            
            // Calculate on input change
            electricBillInput.addEventListener('input', debounce(calculateSolarSavings, 500));
            homeSizeInput.addEventListener('input', debounce(calculateSolarSavings, 500));
            
            // Initial calculation
            calculateSolarSavings();
        }
        
        function calculateSolarSavings() {
            const electricBill = parseFloat(document.getElementById('electricBill').value) || 0;
            const homeSize = parseFloat(document.getElementById('homeSize').value) || 0;
            const sunExposure = parseInt(document.getElementById('sunExposure').value);
            const energyUsage = parseInt(document.getElementById('energyUsage').value);
            
            if (electricBill === 0 || homeSize === 0) {
                // Show placeholder values
                document.getElementById('monthlySavings').textContent = '$0';
                document.getElementById('annualSavings').textContent = '$0';
                document.getElementById('systemCost').textContent = '$0';
                document.getElementById('paybackPeriod').textContent = '0 yrs';
                return;
            }
            
            // Calculation factors
            const sunMultiplier = [0.7, 0.9, 1.2][sunExposure - 1];
            const usageMultiplier = [0.8, 1.0, 1.3][energyUsage - 1];
            
            // Basic calculations
            const systemSizeKW = (homeSize / 1000) * 8 * usageMultiplier; // Rough estimate
            const monthlyGeneration = systemSizeKW * 130 * sunMultiplier; // kWh per month
            const monthlySavings = Math.min(monthlyGeneration * 0.22, electricBill * 0.95); // Max 95% savings
            const annualSavings = monthlySavings * 12;
            const systemCost = systemSizeKW * 3200; // $3.20 per watt average
            const paybackPeriod = annualSavings > 0 ? systemCost / annualSavings : 0;
            
            // Update display with animation
            animateValue('monthlySavings', monthlySavings, '$');
            animateValue('annualSavings', annualSavings, '$');
            animateValue('systemCost', systemCost, '$');
            document.getElementById('paybackPeriod').textContent = `${Math.round(paybackPeriod * 10) / 10} yrs`;
        }
        
        function animateValue(elementId, targetValue, prefix = '') {
            const element = document.getElementById(elementId);
            const currentValue = parseFloat(element.textContent.replace(/[^0-9.]/g, '')) || 0;
            const increment = (targetValue - currentValue) / 20;
            let current = currentValue;
            
            const updateValue = () => {
                current += increment;
                if ((increment > 0 && current < targetValue) || (increment < 0 && current > targetValue)) {
                    element.textContent = prefix + Math.round(current).toLocaleString();
                    requestAnimationFrame(updateValue);
                } else {
                    element.textContent = prefix + Math.round(targetValue).toLocaleString();
                }
            };
            
            updateValue();
        }
        
        // ===== TESTIMONIALS CAROUSEL =====
        function initializeTestimonials() {
            startTestimonialAutoplay();
        }
        
        function showTestimonial(index) {
            const track = document.getElementById('testimonialsTrack');
            const dots = document.querySelectorAll('.carousel-dot');
            
            currentTestimonial = index;
            track.style.transform = `translateX(-${index * 100}%)`;
            
            // Update active dot
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
            
            // Restart autoplay
            clearInterval(testimonialInterval);
            startTestimonialAutoplay();
        }
        
        function startTestimonialAutoplay() {
            testimonialInterval = setInterval(() => {
                const nextIndex = (currentTestimonial + 1) % totalTestimonials;
                showTestimonial(nextIndex);
            }, 5000); // Change every 5 seconds
        }
        
        // ===== CONTACT FORM FUNCTIONALITY =====
        function initializeContactForm() {
            const form = document.getElementById('contactForm');
            form.addEventListener('submit', handleFormSubmission);
            
            // Real-time validation
            const inputs = form.querySelectorAll('input, textarea');
            inputs.forEach(input => {
                input.addEventListener('blur', validateField);
                input.addEventListener('input', clearFieldError);
            });
            
            // File upload handling
            const fileInput = document.getElementById('powerBillUpload');
            const fileDisplay = document.getElementById('fileDisplay');
            
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    // Validate file type
                    if (!file.type.includes('pdf')) {
                        showFormMessage('Please upload a PDF file only.', 'error');
                        fileInput.value = '';
                        fileDisplay.classList.remove('show');
                        return;
                    }
                    
                    // Validate file size (10MB limit)
                    const maxSize = 10 * 1024 * 1024; // 10MB in bytes
                    if (file.size > maxSize) {
                        showFormMessage('File size must be less than 10MB. Please compress your PDF or use a smaller file.', 'error');
                        fileInput.value = '';
                        fileDisplay.classList.remove('show');
                        return;
                    }
                    
                    // Show file info
                    const fileSize = (file.size / (1024 * 1024)).toFixed(2);
                    fileDisplay.innerHTML = `
                        <span class="file-name">📄 ${file.name}</span>
                        <span class="file-size">(${fileSize} MB)</span>
                    `;
                    fileDisplay.classList.add('show');
                    hideFormMessage();
                } else {
                    fileDisplay.classList.remove('show');
                }
            });
        }
        
        function handleFormSubmission(e) {
            e.preventDefault();
            const submitButton = e.target.querySelector('.submit-button');
            const messageDiv = document.getElementById('formMessage');
            
            // Validate form
            if (!validateForm(e.target)) {
                showFormMessage('Please fill in all required fields correctly.', 'error');
                return;
            }
            
            // Show loading state
            submitButton.classList.add('loading');
            submitButton.disabled = true;
            hideFormMessage();
            
            // Submit to Netlify Forms (automatic email notifications)
            const formData = new FormData(e.target);
            
            fetch('/', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: new URLSearchParams(formData).toString()
            })
            .then(response => {
                submitButton.classList.remove('loading');
                submitButton.disabled = false;
                
                if (response.ok) {
                    // Show success message
                    showFormMessage('Thank you! Your solar consultation request has been automatically sent to ekosolarize@gmail.com. We\'ll contact you within 24 hours to schedule your free consultation.', 'success');
                    
                    // Reset form after success
                    e.target.reset();
                } else {
                    throw new Error('Form submission failed');
                }
            })
            .catch((error) => {
                submitButton.classList.remove('loading');
                submitButton.disabled = false;
                
                console.error('Form submission error:', error);
                showFormMessage('There was an issue submitting your request. Please try again or call us directly at (404) 551-6532.', 'error');
            });
        }
        
        function validateForm(form) {
            const requiredFields = form.querySelectorAll('input[required], textarea[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!validateField({ target: field })) {
                    isValid = false;
                }
            });
            
            return isValid;
        }
        
        function validateField(e) {
            const field = e.target;
            const value = field.value.trim();
            let isValid = true;
            
            // Remove existing error styling
            field.classList.remove('error');
            
            // Check required fields
            if (field.hasAttribute('required') && !value) {
                isValid = false;
            }
            
            // Email validation
            if (field.type === 'email' && value) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) {
                    isValid = false;
                }
            }
            
            // Phone validation (basic)
            if (field.type === 'tel' && value) {
                const phoneRegex = /^[\d\s\-\(\)]{10,}$/;
                if (!phoneRegex.test(value)) {
                    isValid = false;
                }
            }
            
            // Add error styling if invalid
            if (!isValid) {
                field.classList.add('error');
                field.style.borderColor = '#EF4444';
            } else {
                field.style.borderColor = '#10B981';
            }
            
            return isValid;
        }
        
        function clearFieldError(e) {
            const field = e.target;
            field.classList.remove('error');
            field.style.borderColor = '';
        }
        
        function showFormMessage(message, type) {
            const messageDiv = document.getElementById('formMessage');
            messageDiv.textContent = message;
            messageDiv.className = `form-message ${type}`;
            messageDiv.style.display = 'block';
            
            // Auto-hide success messages after 5 seconds
            if (type === 'success') {
                setTimeout(() => {
                    hideFormMessage();
                }, 5000);
            }
        }
        
        function hideFormMessage() {
            const messageDiv = document.getElementById('formMessage');
            messageDiv.style.display = 'none';
        }
        
        // ===== UTILITY FUNCTIONS =====
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }
        
        // ===== PAGE PERFORMANCE OPTIMIZATIONS =====
        
        // Lazy load images when they come into view
        document.addEventListener('DOMContentLoaded', function() {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        imageObserver.unobserve(img);
                    }
                });
            });
            
            document.querySelectorAll('img[data-src]').forEach(img => {
                imageObserver.observe(img);
            });
        });
        
        // Preload critical resources
        function preloadCriticalResources() {
            const criticalImages = [
                // Add paths to critical images that should be preloaded
            ];
            
            criticalImages.forEach(src => {
                const link = document.createElement('link');
                link.rel = 'preload';
                link.as = 'image';
                link.href = src;
                document.head.appendChild(link);
            });
        }
        
        // Initialize performance optimizations
        document.addEventListener('DOMContentLoaded', preloadCriticalResources);
        
        // ===== ERROR HANDLING =====
        window.addEventListener('error', function(e) {
            console.error('JavaScript Error:', e.error);
            // In production, you might want to send this to an error tracking service
        });
        
        // ===== ACCESSIBILITY ENHANCEMENTS =====
        
        // Keyboard navigation for custom elements
        document.addEventListener('keydown', function(e) {
            // Handle Enter key for clickable elements
            if (e.key === 'Enter') {
                const target = e.target;
                if (target.classList.contains('service-card')) {
                    toggleService(target);
                }
                if (target.classList.contains('carousel-dot')) {
                    const index = Array.from(target.parentNode.children).indexOf(target);
                    showTestimonial(index);
                }
            }
            
            // Handle Escape key to close mobile menu
            if (e.key === 'Escape') {
                const navMenu = document.getElementById('navMenu');
                const mobileToggle = document.getElementById('mobileToggle');
                if (navMenu.classList.contains('active')) {
                    navMenu.classList.remove('active');
                    mobileToggle.textContent = '☰';
                }
            }
        });
        
        // Add appropriate ARIA labels and roles
        document.addEventListener('DOMContentLoaded', function() {
            // Make service cards focusable and add appropriate roles
            document.querySelectorAll('.service-card').forEach((card, index) => {
                card.setAttribute('tabindex', '0');
                card.setAttribute('role', 'button');
                card.setAttribute('aria-expanded', 'false');
                card.setAttribute('aria-label', `Expand details for ${card.querySelector('.service-title').textContent}`);
            });
            
            // Add carousel labels
            document.querySelectorAll('.carousel-dot').forEach((dot, index) => {
                dot.setAttribute('aria-label', `Show testimonial ${index + 1}`);
            });
            
            // Add form labels and descriptions
            const form = document.getElementById('contactForm');
            form.setAttribute('aria-label', 'Solar consultation request form');
        });

        // Enhanced System Services Animations
        // Wait for both DOM and anime.js to load
        function initializeAnimations() {
            if (typeof anime === 'undefined') {
                setTimeout(initializeAnimations, 100);
                return;
            }

            // Respect reduced motion preferences
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            if (prefersReducedMotion) {
                return; // Skip animations for users who prefer reduced motion
            }
            
            // Animate system services cards on page load
            const systemServiceCards = document.querySelectorAll('.service-card-advanced');
            
            if (systemServiceCards.length > 0) {
                // Initial card entrance animation with enhanced effects
                anime({
                    targets: '.service-card-advanced',
                    opacity: [0, 1],
                    translateY: [80, 0],
                    scale: [0.85, 1],
                    rotateX: [15, 0],
                    delay: anime.stagger(300, {start: 500}),
                    duration: 1000,
                    easing: 'easeOutExpo'
                });

                // Enhanced icon animations with 3D effects
                anime({
                    targets: '.service-icon-advanced',
                    opacity: [0, 1],
                    scale: [0.3, 1],
                    rotate: [180, 0],
                    delay: anime.stagger(300, {start: 700}),
                    duration: 1200,
                    easing: 'easeOutElastic(1, .6)'
                });

                // Animate titles with letter-by-letter reveal
                systemServiceCards.forEach((card, index) => {
                    const title = card.querySelector('.service-title-advanced');
                    const description = card.querySelector('.service-description-advanced');
                    const features = card.querySelectorAll('.service-features-advanced li');
                    const cta = card.querySelector('.service-cta-advanced');
                    
                    // Title animation
                    anime({
                        targets: title,
                        opacity: [0, 1],
                        translateY: [30, 0],
                        delay: 900 + (index * 300),
                        duration: 800,
                        easing: 'easeOutExpo'
                    });
                    
                    // Description animation
                    anime({
                        targets: description,
                        opacity: [0, 1],
                        translateY: [20, 0],
                        delay: 1100 + (index * 300),
                        duration: 600,
                        easing: 'easeOutQuart'
                    });
                    
                    // Feature list animations with enhanced stagger
                    anime({
                        targets: features,
                        opacity: [0, 1],
                        translateX: [-40, 0],
                        scale: [0.8, 1],
                        delay: anime.stagger(120, {start: 1300 + (index * 300)}),
                        duration: 700,
                        easing: 'easeOutExpo'
                    });
                    
                    // CTA button animation
                    anime({
                        targets: cta,
                        opacity: [0, 1],
                        translateY: [20, 0],
                        scale: [0.9, 1],
                        delay: 1800 + (index * 300),
                        duration: 600,
                        easing: 'easeOutBack'
                    });
                });

                // Enhanced hover animations with micro-interactions
                systemServiceCards.forEach(card => {
                    card.addEventListener('mouseenter', function() {
                        if (window.innerWidth > 768) {
                            const icon = this.querySelector('.service-icon-advanced');
                            const title = this.querySelector('.service-title-advanced');
                            const features = this.querySelectorAll('.service-features-advanced li');
                            const cta = this.querySelector('.service-cta-advanced');
                            
                            // Icon hover animation
                            anime({
                                targets: icon,
                                rotate: '+=12',
                                scale: [1, 1.08, 1],
                                duration: 600,
                                easing: 'easeOutElastic(1, .6)'
                            });
                            
                            // Title bounce effect
                            anime({
                                targets: title,
                                translateY: [0, -3, 0],
                                duration: 400,
                                easing: 'easeOutQuad'
                            });
                            
                            // Feature items slide effect
                            anime({
                                targets: features,
                                translateX: [0, 5, 0],
                                delay: anime.stagger(50),
                                duration: 300,
                                easing: 'easeOutQuad'
                            });
                            
                            // CTA button pulse effect
                            anime({
                                targets: cta,
                                scale: [1, 1.05, 1],
                                duration: 400,
                                easing: 'easeOutElastic(1, .8)'
                            });
                        }
                    });
                    
                    // Mouse leave animation
                    card.addEventListener('mouseleave', function() {
                        if (window.innerWidth > 768) {
                            const features = this.querySelectorAll('.service-features-advanced li');
                            
                            // Reset feature items
                            anime({
                                targets: features,
                                translateX: [5, 0],
                                delay: anime.stagger(30),
                                duration: 200,
                                easing: 'easeOutQuad'
                            });
                        }
                    });
                });
            }

            // Intersection Observer for enhanced scroll animations
            const systemServicesSection = document.querySelector('#system-services');
            if (systemServicesSection && typeof anime !== 'undefined') {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting && entry.intersectionRatio > 0.3) {
                            // Additional border glow animation
                            anime({
                                targets: '.system-services',
                                boxShadow: [
                                    'inset 0 3px 0 0 var(--solar-orange), inset 0 -3px 0 0 var(--solar-orange)',
                                    'inset 0 3px 0 0 rgba(234, 88, 12, 0.6), inset 0 -3px 0 0 rgba(234, 88, 12, 0.6)',
                                    'inset 0 3px 0 0 var(--solar-orange), inset 0 -3px 0 0 var(--solar-orange)'
                                ],
                                duration: 2000,
                                easing: 'easeInOutQuad'
                            });
                            
                            // Section title animation
                            anime({
                                targets: '.system-services .section-title',
                                opacity: [0, 1],
                                translateY: [40, 0],
                                scale: [0.9, 1],
                                duration: 800,
                                easing: 'easeOutExpo'
                            });
                            
                            // Section subtitle animation
                            anime({
                                targets: '.system-services .section-subtitle',
                                opacity: [0, 1],
                                translateY: [30, 0],
                                delay: 200,
                                duration: 600,
                                easing: 'easeOutQuart'
                            });
                        }
                    });
                }, { threshold: 0.3 });
                
                observer.observe(systemServicesSection);
            }
        }

        // Initialize animations when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeAnimations);

        // Lazy load images for better performance
        const lazyImages = document.querySelectorAll('img[loading="lazy"]');
        if ('IntersectionObserver' in window) {
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        if (img.dataset.src) {
                            img.src = img.dataset.src;
                            img.removeAttribute('data-src');
                        }
                        observer.unobserve(img);
                    }
                });
            }, { rootMargin: '50px' });
            
            lazyImages.forEach(img => imageObserver.observe(img));
        }

        // Preload next critical resources
        const preloadNextResources = () => {
            const linkPrefetch = document.createElement('link');
            linkPrefetch.rel = 'prefetch';
            linkPrefetch.href = '#calculator';
            document.head.appendChild(linkPrefetch);
        };
        setTimeout(preloadNextResources, 3000);

        // ===== HERO SLIDESHOW FUNCTIONALITY =====
        class HeroSlideshow {
            constructor() {
                this.slides = document.querySelectorAll('.slide');
                this.dots = document.querySelectorAll('.dot');
                this.prevBtn = document.querySelector('.nav-arrow.prev');
                this.nextBtn = document.querySelector('.nav-arrow.next');
                this.currentSlide = 0;
                this.slideInterval = null;
                this.isPlaying = true;
                this.touchStartX = 0;
                this.touchEndX = 0;
                
                this.init();
            }

            init() {
                // Set initial slide
                this.setActiveSlide(0);
                
                // Start automatic slideshow
                this.startSlideshow();
                
                // Event listeners
                this.prevBtn?.addEventListener('click', () => this.prevSlide());
                this.nextBtn?.addEventListener('click', () => this.nextSlide());
                
                // Dot navigation
                this.dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => this.goToSlide(index));
                });
                
                // Pause on hover
                const slideshow = document.querySelector('.hero-slideshow');
                slideshow?.addEventListener('mouseenter', () => this.pauseSlideshow());
                slideshow?.addEventListener('mouseleave', () => this.resumeSlideshow());
                
                // Touch/swipe support
                slideshow?.addEventListener('touchstart', (e) => this.handleTouchStart(e));
                slideshow?.addEventListener('touchmove', (e) => this.handleTouchMove(e));
                slideshow?.addEventListener('touchend', (e) => this.handleTouchEnd(e));
                
                // Keyboard navigation
                document.addEventListener('keydown', (e) => this.handleKeyPress(e));
                
                // Visibility API - pause when tab is not visible
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden) {
                        this.pauseSlideshow();
                    } else {
                        this.resumeSlideshow();
                    }
                });
                
                // Preload background images
                this.preloadImages();
            }

            setActiveSlide(index) {
                // Remove active class from all slides and dots
                this.slides.forEach(slide => slide.classList.remove('active'));
                this.dots.forEach(dot => dot.classList.remove('active'));
                
                // Add active class to current slide and dot
                if (this.slides[index]) {
                    this.slides[index].classList.add('active');
                    
                    // Update background image
                    const bgImage = this.slides[index].getAttribute('data-bg');
                    if (bgImage) {
                        this.slides[index].style.backgroundImage = this.getBackgroundImage(bgImage);
                    }
                }
                
                if (this.dots[index]) {
                    this.dots[index].classList.add('active');
                }
                
                this.currentSlide = index;
                
                // Re-animate statistics for new slide
                this.animateStats();
            }

            nextSlide() {
                const nextIndex = (this.currentSlide + 1) % this.slides.length;
                this.setActiveSlide(nextIndex);
            }

            prevSlide() {
                const prevIndex = (this.currentSlide - 1 + this.slides.length) % this.slides.length;
                this.setActiveSlide(prevIndex);
            }

            goToSlide(index) {
                if (index >= 0 && index < this.slides.length) {
                    this.setActiveSlide(index);
                }
            }

            startSlideshow() {
                if (!this.slideInterval) {
                    this.slideInterval = setInterval(() => {
                        if (this.isPlaying) {
                            this.nextSlide();
                        }
                    }, 6000); // 6 seconds per slide
                }
            }

            pauseSlideshow() {
                this.isPlaying = false;
            }

            resumeSlideshow() {
                this.isPlaying = true;
            }

            stopSlideshow() {
                if (this.slideInterval) {
                    clearInterval(this.slideInterval);
                    this.slideInterval = null;
                }
                this.isPlaying = false;
            }

            // Touch/swipe functionality
            handleTouchStart(e) {
                this.touchStartX = e.touches[0].clientX;
            }

            handleTouchMove(e) {
                // Prevent default scrolling during swipe
                if (Math.abs(e.touches[0].clientX - this.touchStartX) > 10) {
                    e.preventDefault();
                }
            }

            handleTouchEnd(e) {
                this.touchEndX = e.changedTouches[0].clientX;
                const swipeThreshold = 50;
                const diff = this.touchStartX - this.touchEndX;

                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        this.nextSlide(); // Swipe left - next slide
                    } else {
                        this.prevSlide(); // Swipe right - previous slide
                    }
                }
                
                // Reset touch positions
                this.touchStartX = 0;
                this.touchEndX = 0;
            }

            // Keyboard navigation
            handleKeyPress(e) {
                // Only handle if focus is on slideshow or no form elements are focused
                const activeElement = document.activeElement;
                const isFormElement = activeElement && (
                    activeElement.tagName === 'INPUT' || 
                    activeElement.tagName === 'TEXTAREA' || 
                    activeElement.tagName === 'SELECT'
                );

                if (!isFormElement) {
                    switch(e.key) {
                        case 'ArrowLeft':
                            e.preventDefault();
                            this.prevSlide();
                            break;
                        case 'ArrowRight':
                            e.preventDefault();
                            this.nextSlide();
                            break;
                        case ' ': // Spacebar
                            e.preventDefault();
                            if (this.isPlaying) {
                                this.pauseSlideshow();
                            } else {
                                this.resumeSlideshow();
                            }
                            break;
                    }
                }
            }

            // Get background image with gradient overlay
            getBackgroundImage(imagePath) {
                const gradients = {
                    'installation': 'linear-gradient(rgba(234, 88, 12, 0.6), rgba(251, 146, 60, 0.4))',
                    'repair': 'linear-gradient(rgba(220, 38, 38, 0.7), rgba(239, 68, 68, 0.5))',
                    'maintenance': 'linear-gradient(rgba(16, 185, 129, 0.6), rgba(52, 211, 153, 0.4))',
                    'commercial': 'linear-gradient(rgba(59, 130, 246, 0.6), rgba(147, 197, 253, 0.4))',
                    'diagnostics': 'linear-gradient(rgba(168, 85, 247, 0.6), rgba(196, 181, 253, 0.4))'
                };

                // Determine gradient based on image name
                let gradient = gradients.installation; // default
                for (const [key, value] of Object.entries(gradients)) {
                    if (imagePath.includes(key)) {
                        gradient = value;
                        break;
                    }
                }

                return `${gradient}, url('${imagePath}')`;
            }

            // Animate statistics counters
            animateStats() {
                const currentSlideElement = this.slides[this.currentSlide];
                const statNumbers = currentSlideElement.querySelectorAll('.stat-number');
                
                statNumbers.forEach(stat => {
                    const target = parseInt(stat.getAttribute('data-target'));
                    const duration = 2000;
                    const increment = target / (duration / 16);
                    let current = 0;
                    
                    const counter = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            stat.textContent = target;
                            clearInterval(counter);
                        } else {
                            stat.textContent = Math.floor(current);
                        }
                    }, 16);
                });
            }

            // Preload background images for better performance
            preloadImages() {
                const imageUrls = [
                    'https://images.unsplash.com/photo-1559302504-64aae6ca6b6d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                    'https://images.unsplash.com/photo-1613665813446-82a78c468a1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                    'https://images.unsplash.com/photo-1624397640148-949b1732bb0a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                    'https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80',
                    'https://images.unsplash.com/photo-1603030070898-b67bb3ef6d7d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80'
                ];

                imageUrls.forEach(url => {
                    const img = new Image();
                    img.src = url;
                });
            }
        }

        // Initialize slideshow when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new HeroSlideshow();
        });

        // If DOM is already loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => new HeroSlideshow());
        } else {
            new HeroSlideshow();
        }
    </script>
</body>
</html><!-- GitHub Pages deployment refresh -->
